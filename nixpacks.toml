[phases.setup]
nixPkgs = ["nodejs_22", "npm-9_x", "openssl", "curl", "wget"]

[start]
cmd = "exec caddy run --config /assets/Caddyfile --adapter caddyfile 2>&1"

[healthcheck]
cmd = "curl -f http://localhost:${PORT:-5000}/health || exit 1"
interval = "30s"
timeout = "10s"
retries = 3
startPeriod = "40s"
### 

### Option 2: Modify Your Caddyfile

### Your Caddyfile already has a health endpoint configuration:
### 
# health check for railway
### rewrite /health /*
